---
title: Running .NET Azure Functions in Visual Studio Code on macOS
longTitle: ""
customField: ""
slug: ""
description: ""
date: 2024-02-27T13:18:52.107Z
lastmod: 2024-02-27T13:18:52.107Z
preview: <failed to process>
draft: true
comments: true
tags: []
type: post
---

TypeScript is my go to language for building any kind of solutions, but sometimes you need to use what is best for the job. In my current project, I am using .NET Core to build Azure Functions and I had to get myself familiar with using .Net Core and Azure Functions on macOS.

As the Microsoft documentation only explained it with Visual Studio for Mac, I had to figure out how to get it working with Visual Studio Code. This post will explain how to get .NET Core and Azure Functions working on macOS with Visual Studio Code.

## Prerequisites

To start building .NET based Azure Functions, you need to install the .NET SDK and Azure Functions Core Tools installed on your machine.

### Installing .NET SDK on macOS

You can find the .NET supported versions on the following [download .NET](https://dotnet.microsoft.com/en-us/download/dotnet) page.

I went for the binaries of the .NET 8.0 SDK for macOS [download .NET 8.0.201 SDK for macOS Arm64](https://dotnet.microsoft.com/en-us/download/dotnet/8.0).

If you go for the binary download, once downloaded, you can move the files from the tar file to the directory of your choice. On the .NET download page, they recommend using the `$HOME/dotnet` directory. In my case, I moved the files to the `$HOME/.dotnet` directory.

```bash
cd ~/Downloads
mkdir -p $HOME/.dotnet && tar zxf dotnet-sdk-8.0.201-osx-arm64.tar.gz -C $HOME/.dotnet
```

After moving the files, you need to add the .NET SDK to your shell profile, or any other profile you are using. 

In my case, I am using `zsh`, so I added the following to my `.zshrc` file and the `.zprofile` file.

- Shell profile: `~/.profile`
- Bash profile: `~/.bash_profile`, `~/.bashrc`
- Zsh profile: `~/.zshrc`, `~/.zprofile`

In those files, you need to add the following lines:

```bash
export DOTNET_ROOT=$HOME/.dotnet
export PATH=$PATH:$HOME/.dotnet
```

{{< blockquote type="info" text="By adding those lines, you permanently make `dotnet` commands available in your terminal." >}}

After adding it, restart your terminal or run the following commands to apply the changes:

```bash
# Change the file to the profile you are using
source ~/.zshrc
```

After reloading the profile, you can check if the .NET SDK is installed by running the following command:

```bash
dotnet --info
```

### Installing Azure Functions Core Tools

The documenation for installing the Azure Functions Core Tools on macOS is up to date. You can find it in the [Install the Azure Functions Core Tools](https://learn.microsoft.com/en-us/azure/azure-functions/functions-run-local?tabs=macos#install-the-azure-functions-core-tools) section of the Core Tools Development documenation.

```bash
# When Homebrew is installed
brew tap azure/functions
brew install azure-functions-core-tools@4

# To update the Azure Functions Core Tools
brew upgrade azure-functions-core-tools@4
```

To check if the Azure Functions Core Tools are installed, you can run the following command:

```bash
func --version
```

## Creating a new Azure Functions project

After installing the .NET SDK and Azure Functions Core Tools, you can create a new Azure Functions project. You have the option of creating a new project from your terminal or from Visual Studio Code with the [Azure Functions extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions).

### Using the terminal

To create a new Azure Functions project, you can use the following command:

```bash
func init
```

This command will ask you a few questions to set up the project. You can choose the following options:

- Select the runtime: `dotnet (isolated process)`
- Select the language: `C#`

If everything is installed correctly, it should create a new Azure Functions project in the current directory.

New Azure Functions can be added to the project by running the following command:

```bash
func new
```

### Using Visual Studio Code

If you have installed the [Azure Functions extension](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions) in Visual Studio Code, you can create a new Azure Functions project by clicking on the Azure icon in the sidebar and then clicking on the `Create New Project` button in the workspace section.

SCREENSHOT

It will ask you similar questions as the terminal command to set up the project.

Install the C# Dev Kit

```bash
ms-dotnettools.csharp
```

## Running the Azure Functions

```bash
npm install -g azurite
azurite
```

## Debugging the Azure Functions

```bash
azurite
```

- Press f5 to start debugging